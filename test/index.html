<!DOCTYPE html>

<html>
  <head>
    <script src="/base/components/polymer/polymer.min.js"></script>
    <script src="/base/test/model.js"></script>
    <link rel="import" href="/base/index.html"/>
  </head>
  <body>
    <polymer-element name="element-with-model" attributes="model">
      <template>
        <div>{{ model.text }}</div>
      </template>
      <script>
        Polymer("element-with-model", {
          ready: function() {
            this.model = {};
          }
        });
      </script>
    </polymer-element>

    <racer-element id="element">
      <element-with-model id="child"/>
    </racer-element>

    <script>
      window.addEventListener("WebComponentsReady", function() {
        document.querySelector("#element").model = new Model({  
          text: "text"
        });
      });
    </script>
  </body>
</html>

